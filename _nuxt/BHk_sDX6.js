import{X as q,U as T,a9 as N,v as O,aD as R,d as D,ak as v,_ as K,a7 as S,Q as C,L as b,az as g,al as _,A as d,am as f,an as U,aA as $,ax as j,av as k,Y as h,K as z}from"./DDJyDB4R.js";import I from"./DQwzxQRN.js";import{_ as P,b as Y,u as F}from"./D-dIm8t8.js";import{d as L,F as E,a as Q}from"./DZmoh3PD.js";const M=Symbol.for("nuxt:client-only"),X=q({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:o,attrs:t}){const a=T(!1);N(()=>{a.value=!0});const r=O();return r&&(r._nuxtClientOnly=!0),K(M,!0),()=>{if(a.value){const s=o.default?.();return s&&s.length===1?[R(s[0],t)]:s}const l=o.fallback||o.placeholder;if(l)return D(l);const m=e.fallback||e.placeholder||"",p=e.fallbackTag||e.placeholderTag||"span";return v(p,t,m)}}}),G=S("youtubeStore",{state(){return{youtubes:[]}},actions:{async fetchYoutube(e){const o=C();try{const t=await $fetch("https://dapi.kakao.com/v2/search/vclip",{params:{query:e},headers:{Authorization:`KakaoAK ${o.public.kakaoAPI}`}});t.meta.is_end||(console.log("Data fetched successfully",t),this.youtubes=t.documents)}catch(t){console.warn(t)}}}}),H=S("blogStore",{state(){return{blogList:[]}},actions:{async fetchBlog(e){const o=C();try{const t=await $fetch("https://dapi.kakao.com/v2/search/blog",{params:{query:e},headers:{Authorization:`KakaoAK ${o.public.kakaoAPI}`}});t.meta.is_end||(console.log("Data fetched successfully",t),this.blogList=t.documents)}catch(t){console.warn(t)}}}});/**
  * vee-validate v4.15.1
  * (c) 2025 Abdelrahman Awad
  * @license MIT
  */function J(e){return e==null}function W(e){return Array.isArray(e)&&e.length===0}const Z=e=>J(e)||W(e)||e===!1?!1:!!String(e).trim().length,ee={class:"flex items-center justify-center"},te={class:"p-1 border-gray-100 rounded-lg shadow-md flex justify-center my-2 ml-auto"},oe=["onClick"],ae={__name:"SearchBar",props:{searchType:{type:Boolean,default:!0}},setup(e){const o=b(!1),t=Y();L("required",Z);let a=b("");const r=F(),l=I(),m=G(),p=H(),s=async(c,n)=>{if(c.preventDefault(),!await n()||a.value.trim()===""){x("🔴 검색어를 입력해주세요");return}w()},w=async()=>{t.loading.show({message:"검색중입니다...",spinnerColor:"white",spinnerSize:50}),await Promise.all([l.searchBook(a.value),m.fetchYoutube(a.value),p.fetchBlog(a.value)]),t.loading.hide(),await V()},V=async()=>{r.currentRoute.value.path!=="/search"&&r.push("/search")};function x(c){t.notify({message:c,color:"red",position:"top"})}return(c,n)=>{const y=g("q-tooltip"),A=g("q-btn"),B=X;return _(),v("div",ee,[d(B,null,{default:f(()=>[e.searchType?(_(),U(A,{key:0,flat:"",round:"",color:"primary",icon:"help",onClick:n[1]||(n[1]=u=>o.value=!o.value),class:"mr-2"},{default:f(()=>[d(y,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=u=>o.value=u),anchor:"top middle",self:"top middle",offset:[0,30],"transition-show":"jump-down","transition-hide":"jump-up"},{default:f(()=>[...n[3]||(n[3]=[j(" 통합 검색 안내: 도서, 블로그, 유튜브를 한 번에 검색할 수 있습니다. ",-1)])]),_:1},8,["modelValue"])]),_:1})):$("",!0)]),_:1}),d(h(Q),{class:""},{default:f(({validate:u})=>[k("div",te,[d(h(E),{name:"search",rules:"required",modelValue:h(a),"onUpdate:modelValue":n[2]||(n[2]=i=>z(a)?a.value=i:a=i),class:"border mr-2 rounded-lg p-2 border-none outline-none focus:ring-2 focus:ring-blue-500",type:"text",placeholder:"검색어를 입력하세요"},null,8,["modelValue"]),k("button",{onClick:i=>s(i,u),type:"submit",class:"mx-2 hover:font-bold"},"검색",8,oe)])]),_:1})])}}},ce=P(ae,[["__scopeId","data-v-d1193c79"]]);export{X as C,ce as _,H as a,G as u};
